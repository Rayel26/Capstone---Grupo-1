<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administraci√≥n</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/Logo.png') }}">
    <link rel="stylesheet" href="static/styles/admin_dashboard.css?v=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.js"></script>

</head>


<body class="bg-gray-50">

    <!-- Encabezado con men√∫ horizontal -->
    <header class="bg-white shadow">
        <div class="container mx-auto flex justify-between items-center p-4">
            <!-- Contenedor para el logo y el texto de Administrador -->
            <div class="flex items-center">
                <a href="{{ url_for('home') }}">
                    <img src="{{ url_for('static', filename='img/Logo.png') }}" alt="Logo Gativet"
                        class="w-14 h-14 mr-2">
                </a>
                <h1 class="text-2xl font-bold" style="color: #18beaa;">Administrador</h1>
            </div>

            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#" onclick="showSection('productos')" class="hover:underline"
                            style="color: #18beaa; border-bottom: 2px solid transparent; transition: border-bottom 0.3s;">
                            Productos</a></li>
                    <li><a href="#" onclick="showSection('usuarios')" class="hover:underline"
                            style="color: #18beaa; border-bottom: 2px solid transparent; transition: border-bottom 0.3s;">
                            Usuarios</a></li>
                    <li><a href="#" onclick="showSection('casos')" class="hover:underline"
                            style="color: #18beaa; border-bottom: 2px solid transparent; transition: border-bottom 0.3s;">
                            Casos</a></li>
                    <li><a href="#" onclick="showSection('fundaciones')" class="hover:underline"
                            style="color: #18beaa; border-bottom: 2px solid transparent; transition: border-bottom 0.3s;">
                            Fundaciones</a></li>
                    <li><a href="#" onclick="showSection('medicamentos')" class="hover:underline"
                            style="color: #18beaa; border-bottom: 2px solid transparent; transition: border-bottom 0.3s;">
                            Medicamentos</a></li>
                </ul>
            </nav>

        </div>
    </header>

    <!-- Contenido Productos -->
    <div class="container mx-auto flex items-start justify-center pt-10 section hidden" id="productos">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <!-- Encabezado centrado -->
            <div class="flex justify-center mb-4">
                <h2 class="text-xl font-bold">Gesti√≥n de Productos</h2>
            </div>

            <!-- Filtros -->
            <div class="flex justify-between mb-4">
                <div class="flex items-center">
                    <!-- Filtro por Tipo de Producto -->
                    <div class="mr-4">
                        <label for="productFilter" class="mr-1 text-gray-700 text-xs">Filtrar por tipo:</label>
                        <select id="productFilter" class="border rounded py-0.5 px-1 text-gray-700 text-xs"
                            onchange="filterProducts()">
                            <option value="">Todos los tipos</option>
                            <option value="1">Alimento para Perros</option>
                            <option value="2">Alimento para Gatos</option>
                            <option value="3">Medicamento Veterinario</option>
                        </select>
                    </div>

                    <!-- Filtro por Mes de Ingreso -->
                    <div>
                        <label for="monthFilter" class="mr-1 text-gray-700 text-xs">Filtrar por mes:</label>
                        <input type="month" id="monthFilter" class="border rounded py-1 px-1 text-gray-700 text-xs"
                            onchange="filterByMonth()">
                    </div>
                </div>

                <!-- Bot√≥n para exportar a Excel -->
                <button class="text-white py-1 px-3 rounded hover:bg-teal-500 transition duration-200 text-sm"
                    style="background-color: #18beaa;" onclick="exportToExcel()">
                    Exportar a Excel
                </button>
            </div>

            <!-- Tabla de stock de productos -->
            <table id="productTable"
                class="min-w-full bg-white border border-gray-300 shadow rounded-lg overflow-hidden text-xs mt-3">
                <!-- Cambiar a text-xs -->
                <thead>
                    <tr class="text-white" style="background-color: #18beaa;">
                        <th class="py-1 px-2 border-b">Nombre del Producto</th> <!-- Ajustar padding si es necesario -->
                        <th class="py-1 px-2 border-b">Tipo de Producto</th>
                        <th class="py-1 px-2 border-b">Marca</th>
                        <th class="py-1 px-2 border-b">Precio</th>
                        <th class="py-1 px-2 border-b">Stock</th>
                        <th class="py-1 px-2 border-b">Fecha ingreso</th>
                        <th class="py-1 px-2 border-b">Acci√≥n</th>
                    </tr>
                </thead>
                <tbody id="productTableExt">
                    <!-- Aqu√≠ se mostrar√°n los productos filtrados -->
                </tbody>
            </table>

            <!-- Controles de Paginaci√≥n -->
            <div id="paginationControls" class="mt-4 flex justify-center items-center">
                <button id="prevPageBtn" class="text-white py-1 px-3 rounded mr-2 text-sm"
                    style="background-color: #18beaa;" onclick="prevPage()">
                    &lt;&lt;
                </button>
                <span id="currentPage" class="text-gray-700 text-sm"></span>
                <button id="nextPageBtn" class="text-white py-1 px-3 rounded ml-2 text-sm"
                    style="background-color: #18beaa;" onclick="nextPage()">
                    &gt;&gt;
                </button>
            </div>

            <!-- Formulario para subir productos -->
            <form id="productForm" class="mt-6 bg-white p-6 shadow rounded-lg text-sm">
                <h4 class="text-base font-semibold">Agregar Nuevo Producto</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="productName" class="block text-gray-700">Nombre del Producto:</label>
                        <input type="text" id="productName" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Nombre del producto" required>
                        <div id="nameError" class="error hidden">Este campo es obligatorio.</div>
                    </div>
                    <div>
                        <label for="productType" class="block text-gray-700">Tipo de Producto:</label>
                        <select id="productType" class="border rounded w-full py-1 px-2 text-gray-700" required>
                            <option value="">Seleccione un tipo</option>
                            <option value="alimento_perro">Alimento para Perros</option>
                            <option value="alimento_gato">Alimento para Gatos</option>
                            <option value="medicamento">Medicamento Veterinario</option>
                        </select>
                        <div id="typeError" class="error">Este campo es obligatorio.</div>
                    </div>
                    <div>
                        <label for="brand" class="block text-gray-700">Marca:</label>
                        <select id="brand" class="border rounded w-full py-1 px-2 text-gray-700" required>
                            <option value="">Seleccione una marca</option>
                            <optgroup id="dogFoodBrands" label="Alimento para Perros" style="display: none;">
                                <option value="Royal Canin">Royal Canin</option>
                                <option value="Purina Pro Plan">Purina Pro Plan</option>
                                <option value="Pedigree">Pedigree</option>
                                <option value="Eukanuba">Eukanuba</option>
                            </optgroup>
                            <optgroup id="catFoodBrands" label="Alimento para Gatos" style="display: none;">
                                <option value="Whiskas">Whiskas</option>
                                <option value="Josera">Josera</option>
                                <option value="Purina Cat Chow">Purina Cat Chow</option>
                            </optgroup>
                            <optgroup id="veterinaryMedicines" label="Medicamentos Veterinarios" style="display: none;">
                                <option value="NexGard">NexGard</option>
                                <option value="Frontline">Frontline</option>
                                <option value="Advantage">Advantage</option>
                            </optgroup>
                        </select>
                        <div id="brandError" class="error">Este campo es obligatorio.</div>
                    </div>
                    <div>
                        <label for="price" class="block text-gray-700">Precio:</label>
                        <input type="text" id="price" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Precio del producto" oninput="formatCurrency(this)" required>
                        <div id="priceError" class="error hidden">Este campo es obligatorio.</div>
                    </div>
                    <div>
                        <label for="quantity" class="block text-gray-700">Cantidad:</label>
                        <input type="number" id="quantity" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Cantidad disponible" required>
                        <div id="quantityError" class="error hidden">Este campo es obligatorio.</div>
                    </div>
                    <div>
                        <label for="description" class="block text-gray-700">Descripci√≥n:</label>
                        <textarea id="description" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Descripci√≥n del producto"></textarea>
                    </div>
                    <div>
                        <label for="productImage" class="block text-gray-700">Seleccionar Imagen del Producto:</label>
                        <select id="productImage" class="border rounded w-full py-1 px-2 text-gray-700"
                            onchange="updateImagePreview()">
                            <option value="">Seleccione una imagen</option>
                        </select>
                        <div id="imageError" class="error hidden">Este campo es obligatorio.</div>
                        <div class="mt-2">
                            <img id="imagePreview" src="" alt="Vista previa de la imagen"
                                class="hidden w-32 h-32 border rounded mt-2" />
                        </div>
                    </div>
                    <div class="mt-2">
                        <input type="file" id="uploadImage" accept="image/*"
                            class="border rounded w-full py-1 px-2 text-gray-700" onchange="handleFileUpload(event)">
                    </div>                    
                </div>
                <button type="submit"
                    class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                    style="background-color: #18beaa;">Subir Producto</button>
            </form>
    </div>
    <!-- Fin Contenido Productos -->
    <!-- Modal para Editar Producto -->
    <div id="editProductModal"
        class="fixed inset-0 bg-gray-500 bg-opacity-75 hidden flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-lg w-96 p-6">
            <h4 class="text-lg font-semibold text-center mb-4">Editar Producto</h4>
            <form id="editProductForm" onsubmit="saveEditProduct(event)">
                <input type="hidden" id="editProductId"> <!-- ID del producto -->
                <div class="mt-2">
                    <label for="editProductName" class="block text-gray-700">Nombre del Producto:</label>
                    <input type="text" id="editProductName"
                        class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                        required>
                </div>
                <div class="mt-2">
                    <label for="editProductPrice" class="block text-gray-700">Precio:</label>
                    <input type="text" id="editProductPrice"
                        class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                        required>
                </div>
                <div class="mt-2">
                    <label for="editProductQuantity" class="block text-gray-700">Cantidad:</label>
                    <input type="number" id="editProductQuantity"
                        class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                        required>
                </div>
                <div class="mt-2">
                    <label for="editProductDescription" class="block text-gray-700">Descripci√≥n:</label>
                    <input type="text" id="editProductDescription"
                        class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                        required>
                </div>
                <div class="flex justify-between mt-4">
                    <button type="submit"
                        style="background-color: #18beaa; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;">
                        Actualizar Producto
                    </button>
                    <button type="button"
                        style="background-color: #e3342f; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;"
                        onclick="closeEditModal()">
                        Cancelar
                    </button>
                </div>
            </form>
            <div id="successMessageProduct" class="mt-4 text-green-500 text-center hidden"></div>
        </div>
    </div>

    <!-- Contenido Gesti√≥n de usuarios -->
    <div class="container mx-auto flex items-start justify-center pt-10 section hidden" id="usuarios">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <!-- Encabezado centrado -->
            <div class="flex justify-center mb-4">
                <h2 class="text-xl font-bold">Gesti√≥n de Usuarios</h2>
            </div>

            <!-- Buscador de usuarios -->
            <div class="flex justify-between mb-4">
                <div class="flex items-center">
                    <div class="mb-4">
                        <label for="search" class="block text-sm font-semibold text-xs">Buscar Usuario:</label>
                        <input type="text" id="search"
                            class="mt-1 block w-36 text-xs border-2 border-gray-300 rounded-md focus:border-gray-500 focus:outline-none"
                            placeholder="Buscar por RUT o nombre" oninput="renderUserTable()">
                        <p class="mt-1 text-xs text-gray-600">Nota: El RUT debe ser sin puntos ni guion, y el nombre
                            debe iniciar con may√∫scula.</p>
                    </div>
                </div>
            </div>


            <!-- Filtros -->
            <div class="flex justify-between mb-4">
                <div class="flex items-center">
                    <!-- Filtro por Tipo de Usuario -->
                    <div class="mr-4">
                        <label for="filter" class="mr-1 text-gray-700 text-xs">Filtrar por tipo:</label>
                        <select id="filter" class="border rounded py-0.5 px-1 text-gray-700 text-xs"
                            onchange="renderUserTable()">
                            <option value="">Todos los tipos</option>
                            <option value="1">Usuario</option>
                            <option value="2">Veterinario</option>
                            <option value="3">Administrador</option>
                        </select>
                    </div>
                </div>

                <!-- Bot√≥n para abrir modal de agregar -->
                <button class="text-white py-1 px-3 rounded hover:bg-teal-500 transition duration-200 text-sm"
                    style="background-color: #18beaa;" onclick="openAddUserModal()">
                    Agregar Usuario Veterinario
                </button>
            </div>

            <!-- Tabla de usuarios -->
            <table class="min-w-full bg-white border border-gray-300 shadow rounded-lg overflow-hidden text-xs mt-4">
                <thead>
                    <tr class="text-white" style="background-color: #18beaa;">
                        <th class="py-1 px-2 border-b">RUT</th>
                        <th class="py-1 px-2 border-b">Nombre</th>
                        <th class="py-1 px-2 border-b">Tipo de Usuario</th>
                        <th class="py-1 px-2 border-b">Fecha de Creaci√≥n</th> <!-- Nueva columna -->
                        <th class="py-1 px-2 border-b">Acciones</th>
                    </tr>
                </thead>
                <tbody id="userTable">
                    <!-- Aqu√≠ se mostrar√°n los usuarios -->
                </tbody>
            </table>
        </section>
    </div>
    <!-- Fin Secci√≥n Gesti√≥n de Usuarios -->

    <!-- Modal para agregar usuario veterinario -->
    <div id="addUserModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-md w-full max-w-lg md:max-w-4xl">
            <h2 class="text-lg font-bold mb-4" id="addModalTitle">Agregar Usuario Veterinario</h2>
            <form id="addModalUserForm">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Columna izquierda -->
                    <div>
                        <div class="mb-4">
                            <label for="addModalRut" class="block text-sm font-semibold">RUT:</label>
                            <input type="text" id="addModalRut" class="mt-1 block w-full border-gray-300 rounded-md"
                                maxlength="12" placeholder="Ingrese el RUT" required>
                        </div>
                        <div class="mb-4">
                            <label for="addModalNombre" class="block text-sm font-semibold">Nombre:</label>
                            <input type="text" id="addModalNombre" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el nombre" required>
                        </div>
                        <div class="mb-4">
                            <label for="modalApellido" class="block text-sm font-semibold">Apellido Paterno:</label>
                            <input type="text" id="modalApellido" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el apellido paterno" required>
                        </div>
                        <div class="mb-4">
                            <label for="modalDomicilio" class="block text-sm font-semibold">Apellido Materno:</label>
                            <input type="text" id="modalDomicilio" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el apellido materno" required>
                        </div>
                    </div>

                    <!-- Columna derecha -->
                    <div>
                        <div class="mb-4">
                            <label for="modalEspecialidad" class="block text-sm font-semibold">Especialidad:</label>
                            <input type="text" id="modalEspecialidad"
                                class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese la especialidad" required>
                        </div>
                        <div class="mb-4">
                            <label for="modalTelefono" class="block text-sm font-semibold">Tel√©fono:</label>
                            <input type="tel" id="modalTelefono" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el tel√©fono" required>
                            <div id="phone-error-message" class="text-red-500 text-sm hidden">Formato inv√°lido. Use +569
                                xxxx yyyy</div>
                        </div>
                        <div class="mb-4">
                            <label for="modalCorreo" class="block text-sm font-semibold">Correo Electr√≥nico:</label>
                            <input type="email" id="modalCorreo" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el correo electr√≥nico" required>
                        </div>
                    </div>
                </div>

                <!-- Campos de contrase√±a en una sola fila -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="relative">
                        <label for="modalPassword" class="block text-sm font-semibold">Contrase√±a:</label>
                        <input type="password" id="modalPassword" class="mt-1 block w-full border-gray-300 rounded-md"
                            placeholder="Ingrese la contrase√±a" required>
                        <span toggle="#modalPassword" class="absolute inset-y-0 right-3 top-6 cursor-pointer"
                            onclick="togglePasswordVisibility('modalPassword', this)">
                            üëÅÔ∏è
                        </span>
                        <div id="pswd_info" class="hidden">
                            <p class="pp"><b>La contrase√±a debe tener:</b></p>
                            <ul>
                                <li id="capital" class="invalid">Al menos 1 may√∫scula</li>
                                <li id="letter" class="invalid">Al menos 1 min√∫scula</li>
                                <li id="number" class="invalid">Al menos 1 n√∫mero</li>
                            </ul>
                        </div>

                    </div>

                    <div class="relative">
                        <label for="modalConfirmPassword" class="block text-sm font-semibold">Confirmar
                            Contrase√±a:</label>
                        <input type="password" id="modalConfirmPassword"
                            class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Confirme la contrase√±a"
                            required>
                        <span toggle="#modalConfirmPassword" class="absolute inset-y-0 right-3 top-6 cursor-pointer"
                            onclick="togglePasswordVisibility('modalConfirmPassword', this)">
                            üëÅÔ∏è
                        </span>
                        <div id="confirm-password-error-message" class="text-red-500 text-sm hidden">Las contrase√±as no
                            coinciden.</div>
                    </div>
                </div>

                <input type="hidden" id="addModalTipo" value="veterinario">

                <!-- Botones -->
                <div class="flex justify-end mt-4">
                    <button type="button"
                        class="mt-4 text-gray-800 py-2 px-4 rounded hover:bg-teal-500 transition duration-200 mr-5"
                        style="background-color: #d1d5db;" onclick="closeAddUserModal()">Cancelar</button>
                    <button type="submit"
                        class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                        style="background-color: #18beaa;">Guardar</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Fin del Modal de agregar -->

    <!-- Modal de confirmaci√≥n Agregar -->
    <div id="confirmModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-md w-full max-w-md">
            <h2 class="text-lg font-bold mb-4">Confirmar Datos</h2>
            <p>¬øEst√° seguro de que los datos son correctos?</p>
            <div class="flex justify-end mt-4">
                <button id="cancelConfirmBtn" class="text-gray-800 py-2 px-4 rounded hover:bg-gray-300 mr-4"
                    style="background-color: #d1d5db;">Cancelar</button>
                <button id="confirmBtn" class="text-white py-2 px-4 rounded hover:bg-teal-500"
                    style="background-color: #18beaa;">Confirmar</button>
            </div>
        </div>
    </div>
    <!-- Fin del Modal de confirmaci√≥n agregar -->

    <!-- Modal de Confirmaci√≥n de Cuenta Creada -->
    <div id="accountCreatedModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">¬°Cuenta creada exitosamente!</h2>
            <p class="text-gray-700 dark:text-white mb-6">
                La cuenta ha sido creada exitosamente.
                <a href="{{ url_for('login') }}" class="text-[#18beaa] hover:underline">Ahora tienes a un nuevo
                    esclavo.</a>
            </p>
            <div class="flex justify-end">
                <button id="closeModalButton" class="text-white py-2 px-4 rounded hover:bg-teal-500"
                    style="background-color: #18beaa;">Cerrar</button>
            </div>
        </div>
    </div>
    <!-- Fin cuenta creada-->


    <!-- Modal para editar usuario veterinario -->
    <div id="editUserModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-md w-full max-w-lg md:max-w-4xl">
            <h2 class="text-lg font-bold mb-4" id="editModalTitle">Editar Usuario Veterinario</h2>
            <form id="editModalUserForm">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Columna izquierda -->
                    <div>
                        <div class="mb-4">
                            <label for="editModalRut" class="block text-sm font-semibold">RUT:</label>
                            <input type="text" id="editModalRut" class="mt-1 block w-full border-gray-300 rounded-md"
                                maxlength="12" placeholder="Ingrese el RUT" required>
                        </div>
                        <div class="mb-4">
                            <label for="editModalNombre" class="block text-sm font-semibold">Nombre:</label>
                            <input type="text" id="editModalNombre" class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el nombre" required>
                        </div>
                        <div class="mb-4">
                            <label for="editModalApellido" class="block text-sm font-semibold">Apellido:</label>
                            <input type="text" id="editModalApellido"
                                class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Ingrese el apellido"
                                required>
                        </div>
                        <div class="mb-4">
                            <label for="editModalDomicilio" class="block text-sm font-semibold">Domicilio:</label>
                            <input type="text" id="editModalDomicilio"
                                class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Ingrese el domicilio">
                        </div>
                    </div>

                    <!-- Columna derecha -->
                    <div>
                        <div class="mb-4">
                            <label for="editModalEspecialidad" class="block text-sm font-semibold">Especialidad:</label>
                            <input type="text" id="editModalEspecialidad"
                                class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese la especialidad" required>
                        </div>
                        <div class="mb-4">
                            <label for="editModalTelefono" class="block text-sm font-semibold">Tel√©fono:</label>
                            <input type="tel" id="editModalTelefono"
                                class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Ingrese el tel√©fono"
                                required>
                            <div id="phone-error-message-edit" class="text-red-500 text-sm hidden">Formato inv√°lido. Use
                                +569 xxxx yyyy</div>
                        </div>
                        <div class="mb-4">
                            <label for="editModalCorreo" class="block text-sm font-semibold">Correo Electr√≥nico:</label>
                            <input type="email" id="editModalCorreo"
                                class="mt-1 block w-full border-gray-300 rounded-md"
                                placeholder="Ingrese el correo electr√≥nico" required>
                        </div>
                        <div class="mb-4">
                            <label for="editModalFechaNacimiento" class="block text-sm font-semibold">Fecha de
                                Nacimiento:</label>
                            <input type="date" id="editModalFechaNacimiento"
                                class="mt-1 block w-full border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Campos de contrase√±a en una sola fila -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="relative">
                        <label for="editModalPassword" class="block text-sm font-semibold">Contrase√±a:</label>
                        <input type="password" id="editModalPassword"
                            class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Ingrese la contrase√±a"
                            required>
                        <span toggle="#editModalPassword" class="absolute inset-y-0 right-3 top-6 cursor-pointer"
                            onclick="togglePasswordVisibility('editModalPassword', this)">
                            üëÅÔ∏è
                        </span>
                        <div id="pswd_info" class="hidden">
                            <p class="pp"><b>La contrase√±a debe tener:</b></p>
                            <ul>
                                <li id="capital" class="invalid">Al menos 1 may√∫scula</li>
                                <li id="letter" class="invalid">Al menos 1 min√∫scula</li>
                                <li id="number" class="invalid">Al menos 1 n√∫mero</li>
                            </ul>
                        </div>
                    </div>

                    <div class="relative">
                        <label for="editModalConfirmPassword" class="block text-sm font-semibold">Confirmar
                            Contrase√±a:</label>
                        <input type="password" id="editModalConfirmPassword"
                            class="mt-1 block w-full border-gray-300 rounded-md" placeholder="Confirme la contrase√±a"
                            required>
                        <span toggle="#editModalConfirmPassword" class="absolute inset-y-0 right-3 top-6 cursor-pointer"
                            onclick="togglePasswordVisibility('editModalConfirmPassword', this)">
                            üëÅÔ∏è
                        </span>
                        <div id="edit-confirm-password-error-message" class="text-red-500 text-sm hidden">Las
                            contrase√±as no coinciden.</div>
                    </div>
                </div>

                <input type="hidden" id="editModalTipo" value="veterinario">

                <!-- Botones -->
                <div class="flex justify-end mt-4">
                    <button type="button"
                        class="mt-4 text-gray-800 py-2 px-4 rounded hover:bg-teal-500 transition duration-200 mr-5"
                        style="background-color: #d1d5db;" onclick="closeEditUserModal()">Cancelar</button>
                    <button type="submit"
                        class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                        style="background-color: #18beaa;">Guardar</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Fin del Modal de editar -->


    <!-- Modal de confirmaci√≥n de eliminaci√≥n -->
    <div id="confirmDeleteModal"
        class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-md w-80 text-center">
            <h2 class="text-lg font-bold mb-4">Confirmar Eliminaci√≥n</h2>
            <p class="mb-4">¬øEst√°s seguro de que quieres eliminar este usuario? Esta acci√≥n no se puede revertir.</p>
            <div class="flex justify-between">
                <button type="button" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-md"
                    onclick="closeConfirmDeleteModal()">Cancelar</button>
                <button type="button" class="px-4 py-2 bg-red-500 text-white rounded-md"
                    id="confirmDeleteButton">Eliminar</button>
            </div>
        </div>
    </div>
    <!-- Fin del Modal de confirmaci√≥n de eliminaci√≥n -->

    <!-- Contenido Casos de Animales -->
    <div class="container mx-auto flex items-start justify-center pt-10 section hidden" id="casos">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <!-- Encabezado centrado -->
            <div class="flex justify-center mb-4">
                <h2 class="text-xl font-bold">Gesti√≥n de Casos de Animales</h2>
            </div>

            <!-- Tabla de Casos de Animales -->
            <table id="caseTable"
                class="min-w-full bg-white border border-gray-300 shadow rounded-lg overflow-hidden text-xs mt-3">
                <thead>
                    <tr class="text-white" style="background-color: #18beaa;">
                        <th class="py-1 px-2 border-b">Nombre del Caso</th>
                        <th class="py-1 px-2 border-b">Descripci√≥n</th>
                        <th class="py-1 px-2 border-b">Fecha de Ingreso</th>
                        <th class="py-1 px-2 border-b">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Las filas se agregar√°n aqu√≠ din√°micamente -->
                </tbody>
            </table>

            <!-- Formulario para subir Casos de Animales -->
            <form id="caseForm" class="mt-6 bg-white p-6 shadow rounded-lg text-sm" onsubmit="submitCase(event)"
                enctype="multipart/form-data">
                <h4 class="text-base font-semibold">Agregar Nuevo Caso</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="caseName" class="block text-gray-700">Nombre del Caso:</label>
                        <input type="text" id="caseName" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Nombre del caso" required>
                    </div>
                    <div class="">
                        <label for="caseDescription" class="block text-gray-700">Descripci√≥n:</label>
                        <textarea id="caseDescription" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Descripci√≥n del caso"></textarea>
                    </div>
                    <div>
                        <label for="CaseImage" class="block text-gray-700">Seleccionar Imagen del Caso:</label>
                        <select id="CaseImage" class="border rounded w-full py-1 px-2 text-gray-700"
                            onchange="showImagePreview()">
                            <option value="">Seleccione una imagen</option>
                        </select>
                        <div id="imageError" class="error hidden">Este campo es obligatorio.</div>
                        <div class="mt-2">
                            <img id="imagePreviewCase" src="" alt="Vista previa de la imagen"
                                class="hidden w-32 h-32 border rounded mt-2" />
                        </div>
                    </div>
                    <div class="mt-2">
                        <label for="uploadImage" class="block text-gray-700">Subir nueva Imagen del Caso:</label>
                        <input type="file" id="uploadImageCase" accept="image/*"
                            class="border rounded w-full py-1 px-2 text-gray-700" onchange="uploadImageToCloudinaryCase()">
                    </div>
                    <div id="imagePreviewContainerCase" class="mt-2 hidden">
                        <img id="imagePreviewCase" src="" alt="Vista previa de la imagen"
                            class="w-32 h-32 border rounded mt-2" />
                    </div>
                </div>
                <button type="submit"
                    class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                    style="background-color: #18beaa;">Subir Caso</button>
            </form>
            <!-- Modal para editar Casos de Animales -->
            <div id="editCaseModal"
                class="fixed inset-0 bg-gray-500 bg-opacity-75 hidden flex items-center justify-center z-50">
                <div class="bg-white rounded-lg shadow-lg w-96 p-6">
                    <h4 class="text-lg font-semibold text-center mb-4">Editar Caso</h4>
                    <form id="editCaseForm" onsubmit="updateCase(event)">
                        <input type="hidden" id="editCaseId">
                        <div class="mt-2">
                            <label for="editCaseName" class="block text-gray-700">Nombre del Caso:</label>
                            <input type="text" id="editCaseName"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                required>
                        </div>
                        <div class="mt-2">
                            <label for="editCaseDescription" class="block text-gray-700">Descripci√≥n:</label>
                            <textarea id="editCaseDescription"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                rows="3"></textarea>
                        </div>
                        <div id="editImagePreviewContainer" class="hidden mt-2">
                            <img id="editImagePreview" class="w-full h-auto rounded" alt="Vista previa de la imagen">
                        </div>
                        <div class="flex justify-between mt-4">
                            <button type="submit"
                                style="background-color: #18beaa; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;">
                                Actualizar Caso
                            </button>
                            <button type="button"
                                style="background-color: #e3342f; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;"
                                onclick="closeModal()">Cancelar</button>
                        </div>
                    </form>
                    <div id="successMessage" class="mt-4 text-green-500 text-center hidden"></div>
                </div>
            </div>
        </section>
    </div>
    <!-- Fin Contenido Casos de Animales -->

    <!-- Contenido Fundaciones -->
    <div class="container mx-auto flex items-start justify-center pt-10 section hidden" id="fundaciones">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <!-- Encabezado centrado -->
            <div class="flex justify-center mb-4">
                <h2 class="text-xl font-bold">Gesti√≥n de Fundaciones Animalistas</h2>
            </div>

            <!-- Tabla de Fundaciones Animalistas -->
            <table id="foundationTable"
                class="min-w-full bg-white border border-gray-300 shadow rounded-lg overflow-hidden text-xs mt-3">
                <thead>
                    <tr class="text-white" style="background-color: #18beaa;">
                        <th class="py-1 px-2 border-b">Nombre de la Fundaci√≥n</th>
                        <th class="py-1 px-2 border-b">Descripcion</th>
                        <th class="py-1 px-2 border-b">Fecha ingreso</th>
                        <th class="py-1 px-2 border-b">Acciones</th>
                    </tr>
                </thead>
                <tbody id="foundationTableExt">
                    <!-- Aqu√≠ se mostrar√°n las fundaciones filtradas -->
                </tbody>
            </table>

            <!-- Formulario para a√±adir Fundaciones -->
            <form id="foundationForm" class="mt-6 bg-white p-6 shadow rounded-lg text-sm"
                onsubmit="submitFoundation(event)">
                <h4 class="text-base font-semibold">Agregar Nueva Fundaci√≥n</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="foundationName" class="block text-gray-700">Nombre de la Fundaci√≥n:</label>
                        <input type="text" id="foundationName" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Nombre de la fundaci√≥n" required>
                    </div>
                    <div class="">
                        <label for="foundationDes" class="block text-gray-700">Descripci√≥n:</label>
                        <textarea type="text" id="foundationDes" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Descripci√≥n de la fundaci√≥n" required></textarea>
                    </div>
                    <div>
                        <label for="FundationImage" class="block text-gray-700">Seleccionar Imagen de la
                            Fundaci√≥n:</label>
                        <select id="FundationImage" class="border rounded w-full py-1 px-2 text-gray-700"
                            onchange="showFoundationImagePreview()">
                            <option value="">Seleccione una imagen</option>
                            <!-- Las opciones se llenar√°n din√°micamente desde Cloudinary -->
                        </select>
                        <div id="fundationImageError" class="error hidden">Este campo es obligatorio.</div>
                        <div class="mt-2">
                            <img id="imagePreviewFoundation" src="" alt="Vista previa de la imagen"
                                class="hidden w-32 h-32 border rounded mt-2" />
                        </div>
                    </div>
                    <div class="mt-2">
                        <label for="uploadImageFund" class="block text-gray-700">Subir nueva Imagen de la
                            Fundaci√≥n:</label>
                        <input type="file" id="uploadImageFund" accept="image/*"
                            class="border rounded w-full py-1 px-2 text-gray-700"
                            onchange="uploadFoundationImageToCloudinary()">
                    </div>
                    <div id="imagePreviewContainerFoundation" class="mt-2 hidden">
                        <img id="imagePreviewContainerFoundationImage" src="" alt="Vista previa de la imagen"
                            class="w-32 h-32 border rounded mt-2" />
                    </div>


                </div>
                <button type="submit"
                    class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                    style="background-color: #18beaa;">Subir Fundaci√≥n</button>
            </form>
            <!-- Modal para editar Fundaciones -->
            <div id="editFoundationModal"
                class="fixed inset-0 bg-gray-500 bg-opacity-75 hidden flex items-center justify-center z-50">
                <div class="bg-white rounded-lg shadow-lg w-96 p-6">
                    <h4 class="text-lg font-semibold text-center mb-4">Editar Fundaci√≥n</h4>
                    <form id="editFoundationForm" onsubmit="updateFoundation(event)">
                        <input type="hidden" id="editFoundationId"> <!-- ID de la fundaci√≥n -->
                        <div class="mt-2">
                            <label for="editFoundationName" class="block text-gray-700">Nombre de la Fundaci√≥n:</label>
                            <input type="text" id="editFoundationName"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                required>
                        </div>
                        <div class="mt-2">
                            <label for="editFoundationDescription" class="block text-gray-700">Descripci√≥n:</label>
                            <textarea id="editFoundationDescription"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                rows="3" required></textarea>
                        </div>
                        <div class="flex justify-between mt-4">
                            <button type="submit"
                                style="background-color: #18beaa; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;">
                                Actualizar Fundaci√≥n
                            </button>
                            <button type="button"
                                style="background-color: #e3342f; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;"
                                onclick="closeModalFoundation()">Cancelar</button>
                        </div>
                    </form>
                    <div id="successMessageFoundation" class="mt-4 text-green-500 text-center hidden"></div>
                </div>
            </div>
        </section>
    </div>
    <!-- Fin Contenido Fundaciones -->


    <!-- Contenido Medicamentos -->
    <div class="container mx-auto flex items-start justify-center pt-10 section hidden" id="medicamentos">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <!-- Encabezado centrado -->
            <div class="flex justify-center mb-4">
                <h2 class="text-xl font-bold">Gesti√≥n de Medicamentos</h2>
            </div>

            <!-- Filtros -->
            <div class="flex justify-between mb-4">
                <div class="flex items-center">
                    <!-- Filtro por Tipo de Medicamento -->
                    <div class="mr-4">
                        <label for="medicineFilter" class="mr-1 text-gray-700 text-xs">Filtrar por tipo:</label>
                        <select id="medicineFilter" class="border rounded py-0.5 px-1 text-gray-700 text-xs"
                            onchange="filterMedicines()">
                            <option value="">Todos los tipos</option>
                            <option value="antiparasitario">Antiparasitario</option>
                            <option value="antibiotico">Antibi√≥tico</option>
                            <option value="antiinflamatorio">Analg√©sico y Antiinflamatorio</option>
                            <option value="vacunas">Vacunas</option>
                            <option value="antif√∫ngicos">Antif√∫ngicos</option>
                            <option value="reproductivos">Medicamentos hormonales y reproductivos</option>
                            <option value="suplementosVitaminas">Suplementos y vitaminas</option>
                            <option value="sedantesAnest√©sicos">Sedantes y anest√©sicos</option>
                            <option value="oft√°lmicosOtol√≥gicos">Medicamentos oft√°lmicos y otol√≥gicos</option>
                            <option value="digestivo">Medicamentos para el sistema digestivo</option>
                            <option value="antihistam√≠nicos">Antihistam√≠nicos y medicamentos antial√©rgicos</option>
                        </select>
                    </div>
                </div>

                <!-- Bot√≥n para exportar a Excel -->
                <button class="text-white py-1 px-3 rounded hover:bg-teal-500 transition duration-200 text-sm"
                    style="background-color: #18beaa;" onclick="exportMedicinesToExcel()">
                    Exportar a Excel
                </button>
            </div>

            <!-- Tabla de stock de medicamentos -->
            <table id="medicineTableExt"
                class="min-w-full bg-white border border-gray-300 shadow rounded-lg overflow-hidden text-xs mt-3">
                <thead>
                    <tr class="text-white" style="background-color: #18beaa;">
                        <th class="py-1 px-2 border-b">Nombre del Medicamento</th>
                        <th class="py-1 px-2 border-b">Tipo</th>
                        <th class="py-1 px-2 border-b">Marca</th>
                        <th class="py-1 px-2 border-b">Stock</th>
                        <th class="py-1 px-2 border-b">Fecha ingreso</th>
                        <th class="py-1 px-2 border-b">Acci√≥n</th>
                    </tr>
                </thead>
                <tbody id="medicineTableBody">
                    <!-- Aqu√≠ se mostrar√°n los medicamentos filtrados -->
                </tbody>
            </table>


            <!-- Controles de Paginaci√≥n -->
            <div id="paginationControls" class="mt-4 flex justify-center items-center">
                <button id="prevPageBtn" class="text-white py-1 px-3 rounded mr-2 text-sm"
                    style="background-color: #18beaa;" onclick="prevPage()">
                    &lt;&lt;
                </button>
                <span id="currentPage" class="text-gray-700 text-sm"></span>
                <button id="nextPageBtn" class="text-white py-1 px-3 rounded ml-2 text-sm"
                    style="background-color: #18beaa;" onclick="nextPage()">
                    &gt;&gt;
                </button>
            </div>

            <!-- Formulario para subir medicamentos -->
            <form id="medicineForm" class="mt-6 bg-white p-6 shadow rounded-lg text-sm"
                onsubmit="submitMedicine(event)">
                <h4 class="text-base font-semibold">Agregar Nuevo Medicamento</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <!-- Nombre del Medicamento -->
                    <div>
                        <label for="medicineName" class="block text-gray-700">Nombre del Medicamento:</label>
                        <input type="text" id="medicineName" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Nombre del medicamento" required>
                        <div id="nameError" class="error hidden">Este campo es obligatorio.</div>
                    </div>

                    <!-- Tipo de Medicamento -->
                    <div>
                        <label for="medicineType" class="block text-gray-700">Tipo de Medicamento:</label>
                        <select id="medicineType" class="border rounded w-full py-1 px-2 text-gray-700" required>
                            <option value="">Todos los tipos</option>
                            <option value="antiparasitario">Antiparasitario</option>
                            <option value="antibiotico">Antibi√≥tico</option>
                            <option value="antiinflamatorio">Analg√©sico y Antiinflamatorio</option>
                            <option value="vacunas">Vacunas</option>
                            <option value="antif√∫ngicos">Antif√∫ngicos</option>
                            <option value="reproductivos">Medicamentos hormonales y reproductivos</option>
                            <option value="suplementosVitaminas">Suplementos y vitaminas</option>
                            <option value="sedantesAnest√©sicos">Sedantes y anest√©sicos</option>
                            <option value="oft√°lmicosOtol√≥gicos">Medicamentos oft√°lmicos y otol√≥gicos</option>
                            <option value="digestivo">Medicamentos para el sistema digestivo</option>
                            <option value="antihistam√≠nicos">Antihistam√≠nicos y medicamentos antial√©rgicos</option>
                        </select>
                        <div id="typeError" class="error">Este campo es obligatorio.</div>
                    </div>
                    <!-- Marca -->
                    <div>
                        <label for="brandMedi" class="block text-gray-700">Marca:</label>
                        <select id="brandMedi" class="border rounded w-full py-1 px-2 text-gray-700" required>
                            <option value="">Seleccione una marca</option>
                            <optgroup label="Antiparasitarios">
                                <option value="Frontline">Frontline</option>
                                <option value="NexGard">NexGard</option>
                                <option value="Drontal">Drontal</option>
                                <option value="Advantage">Advantage</option>
                                <option value="Heartgard">Heartgard</option>
                            </optgroup>
                            <optgroup label="Antibi√≥ticos">
                                <option value="AmoxiVet">AmoxiVet</option>
                                <option value="Baytril">Baytril</option>
                                <option value="Clindacyn">Clindacyn</option>
                                <option value="Synulox">Synulox</option>
                            </optgroup>
                            <optgroup label="Analg√©sicos y Anti-inflamatorios">
                                <option value="Metacam">Metacam</option>
                                <option value="Previcox">Previcox</option>
                                <option value="Carprovet">Carprovet</option>
                            </optgroup>
                            <optgroup label="Vacunas">
                                <option value="Nobivac">Nobivac</option>
                                <option value="Cavium">Cavium</option>
                                <option value="Rabvac">Rabvac</option>
                            </optgroup>
                            <optgroup label="Antif√∫ngicos">
                                <option value="Oral Fungiconazole">Oral Fungiconazole</option>
                                <option value="Ketoconazol">Ketoconazol</option>
                                <option value="Lamisil">Lamisil</option>
                            </optgroup>
                            <optgroup label="Medicamentos Hormonales y Reproductivos">
                                <option value="Ovarelin">Ovarelin</option>
                                <option value="Estrumate">Estrumate</option>
                                <option value="Cystorelin">Cystorelin</option>
                            </optgroup>
                            <optgroup label="Suplementos y Vitaminas">
                                <option value="VetriScience">VetriScience</option>
                                <option value="Nutri-Vet">Nutri-Vet</option>
                                <option value="Cosequin">Cosequin</option>
                            </optgroup>
                            <optgroup label="Sedantes y Anest√©sicos">
                                <option value="Acepromazine">Acepromazine</option>
                                <option value="Propofol">Propofol</option>
                                <option value="Isoflurano">Isoflurano</option>
                            </optgroup>
                            <optgroup label="Medicamentos Cardiovasculares">
                                <option value="Vetmedin">Vetmedin</option>
                                <option value="Fortekor">Fortekor</option>
                                <option value="Lasix">Lasix</option>
                            </optgroup>
                            <optgroup label="Medicamentos Oft√°lmicos y Otol√≥gicos">
                                <option value="Tobramycin">Tobramycin</option>
                                <option value="Otomax">Otomax</option>
                                <option value="Cyclosporine A">Cyclosporine A</option>
                            </optgroup>
                            <optgroup label="Medicamentos Digestivos">
                                <option value="Metoclopramide">Metoclopramide</option>
                                <option value="Omeprazol">Omeprazol</option>
                                <option value="Sucralfate">Sucralfate</option>
                            </optgroup>
                            <optgroup label="Antihistam√≠nicos y Medicamentos Antial√©rgicos">
                                <option value="Benadryl">Benadryl</option>
                                <option value="Zyrtec">Zyrtec</option>
                                <option value="Atarax">Atarax</option>
                            </optgroup>
                        </select>
                        <div id="brandError" class="error">Este campo es obligatorio.</div>
                    </div>
                    <!-- Cantidad -->
                    <div>
                        <label for="quantityMedi" class="block text-gray-700">Cantidad:</label>
                        <input type="number" id="quantityMedi" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Cantidad disponible" required>
                        <div id="quantityError" class="error hidden">Este campo es obligatorio.</div>
                    </div>
                    <!-- Descripci√≥n -->
                    <div>
                        <label for="descriptionMedi" class="block text-gray-700">Descripci√≥n:</label>
                        <textarea id="descriptionMedi" class="border rounded w-full py-1 px-2 text-gray-700"
                            placeholder="Descripci√≥n del medicamento"></textarea>
                    </div>
                    <!-- Imagen del Producto -->
                    <input type="hidden" id="imagen_url" name="imagen_url">

                    <div>
                        <label for="medicationImage" class="block text-gray-700">Seleccionar Imagen del
                            Producto:</label>
                        <select id="medicationImage" class="border rounded w-full py-1 px-2 text-gray-700"
                            onchange="updateImagePreview()">
                            <option value="">Seleccione una imagen</option>
                            <!-- Las im√°genes se llenar√°n din√°micamente con JavaScript -->
                        </select>
                        <div id="imageError" class="error hidden text-red-500 mt-1">Este campo es obligatorio.</div>
                        <div class="mt-2">
                            <!-- Vista previa de la imagen -->
                            <img id="medicationImagePreview" src="" alt="Vista previa de la imagen"
                                class="hidden w-32 h-32 border rounded mt-2" />
                        </div>
                    </div>

                    <!-- Subir imagen a Cloudinary -->
                    <div class="mt-2">
                        <input type="file" id="medicationFile" accept="image/*"
                            class="border rounded w-full py-1 px-2 text-gray-700">
                    </div>

                </div>
                <button type="submit"
                    class="mt-4 text-white py-2 px-4 rounded hover:bg-teal-500 transition duration-200"
                    style="background-color: #18beaa;">Subir Medicamento</button>
            </form>

            <!-- Modal para editar Medicamentos -->
            <div id="editMedicineModal"
                class="fixed inset-0 bg-gray-500 bg-opacity-75 hidden flex items-center justify-center z-50">
                <div class="bg-white rounded-lg shadow-lg w-96 p-6">
                    <h4 class="text-lg font-semibold text-center mb-4">Editar Medicamento</h4>
                    <form id="editMedicineForm" onsubmit="updateMedicine(event)">
                        <input type="hidden" id="editMedicineId"> <!-- ID del medicamento -->

                        <div class="mt-2">
                            <label for="editMedicineName" class="block text-gray-700">Nombre del Medicamento:</label>
                            <input type="text" id="editMedicineName"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                required>
                        </div>

                        <div class="mt-2">
                            <label for="editMedicineDescription" class="block text-gray-700">Descripci√≥n:</label>
                            <textarea id="editMedicineDescription"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                rows="3" required></textarea>
                        </div>

                        <div class="mt-2">
                            <label for="editMedicineType" class="block text-gray-700">Tipo de Medicamento:</label>
                            <select id="editMedicineType"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700" required>
                                <option value="">Seleccionar Tipo</option>
                                <option value="antiparasitario">Antiparasitario</option>
                                <option value="antibiotico">Antibi√≥tico</option>
                                <option value="antiinflamatorio">Analg√©sico y Antiinflamatorio</option>
                                <option value="vacunas">Vacunas</option>
                                <option value="antif√∫ngicos">Antif√∫ngicos</option>
                                <option value="reproductivos">Medicamentos hormonales y reproductivos</option>
                                <option value="suplementosVitaminas">Suplementos y vitaminas</option>
                                <option value="sedantesAnest√©sicos">Sedantes y anest√©sicos</option>
                                <option value="oft√°lmicosOtol√≥gicos">Medicamentos oft√°lmicos y otol√≥gicos</option>
                                <option value="digestivo">Medicamentos para el sistema digestivo</option>
                                <option value="antihistam√≠nicos">Antihistam√≠nicos y medicamentos antial√©rgicos</option>
                            </select>
                        </div>

                        <div class="mt-2">
                            <label for="editMedicineBrand" class="block text-gray-700">Marca:</label>
                            <select id="editMedicineBrand"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700" required>
                                <option value="">Seleccionar Marca</option>
                                <optgroup label="Antiparasitarios">
                                    <option value="Frontline">Frontline</option>
                                    <option value="NexGard">NexGard</option>
                                    <option value="Drontal">Drontal</option>
                                    <option value="Advantage">Advantage</option>
                                    <option value="Heartgard">Heartgard</option>
                                </optgroup>
                                <optgroup label="Antibi√≥ticos">
                                    <option value="AmoxiVet">AmoxiVet</option>
                                    <option value="Baytril">Baytril</option>
                                    <option value="Clindacyn">Clindacyn</option>
                                    <option value="Synulox">Synulox</option>
                                </optgroup>
                                <optgroup label="Analg√©sicos y Anti-inflamatorios">
                                    <option value="Metacam">Metacam</option>
                                    <option value="Previcox">Previcox</option>
                                    <option value="Carprovet">Carprovet</option>
                                </optgroup>
                                <!-- Agrega m√°s categor√≠as seg√∫n sea necesario -->
                            </select>
                        </div>

                        <div class="mt-2">
                            <label for="editMedicineStock" class="block text-gray-700">Stock:</label>
                            <input type="number" id="editMedicineStock"
                                class="border border-gray-300 rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
                                required>
                        </div>

                        <div class="flex justify-between mt-4">
                            <div id="successMessage" class="hidden">Medicamento actualizado exitosamente.</div>

                            <button type="submit"
                                style="background-color: #18beaa; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;">
                                Actualizar Medicamento
                            </button>
                            <button type="button"
                                style="background-color: #e3342f; color: white; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.875rem;"
                                onclick="closeModalMedicine()">Cancelar</button>
                        </div>
                    </form>
                    <div id="successMessageMedicine" class="mt-4 text-green-500 text-center hidden"></div>
                </div>
            </div>

        </section>
    </div>
    <!-- Fin Contenido Medicamentos -->



    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/admin_dashboard.js') }}"> </script>
</body>