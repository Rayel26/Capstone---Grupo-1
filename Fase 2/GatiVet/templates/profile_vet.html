<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historial de Mascotas</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/Logo Gativet.png') }}">
    <link rel="stylesheet" href="static/styles/profile_vet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100">

    <!-- Steps -->
    <header class="flex p-4 border-b border-gray-300" style="background-color: #18beab;">
        <a href="{{ url_for('home') }}">
            <img src="{{ url_for('static', filename='img/Logo Gativet.png') }}" alt="Logo Gativet"
                class="w-12 h-12 mr-2">
        </a>
        <button
            class="tab-button bg-[#18beaa] text-white border border-gray-300 py-1 px-2 mr-2 focus:outline-none hover:bg-[#16a89a] transition-transform transform-gpu hover:-translate-y-1 hover:shadow-lg cursor-pointer"
            style="background-color: #18beaa; color: white;"
            onclick="showSection('doctor-info', this)">Datos del Doctor</button>
        <button
            class="tab-button bg-[#18beaa] text-white border border-gray-300 py-1 px-2 mr-2 focus:outline-none hover:bg-[#16a89a] transition-transform transform-gpu hover:-translate-y-1 hover:shadow-lg cursor-pointer"
            style="background-color: #18beaa; color: white;"
            onclick="showSection('clinical-records', this)">Fichas Clínicas</button>
        <button
            class="tab-button bg-[#18beaa] text-white border border-gray-300 py-1 px-2 mr-2 focus:outline-none hover:bg-[#16a89a] transition-transform transform-gpu hover:-translate-y-1 hover:shadow-lg cursor-pointer"
            style="background-color: #18beaa; color: white;"
            onclick="showSection('agenda', this)">Agenda</button>
    </header>
    <!-- Fin Steps -->


    <!-- Datos del Doctor -->
    <!-- Modal para editar información -->
    <div id="editModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden">
        <div class="bg-white p-4 rounded-lg shadow-lg w-3/4 md:w-1/3">
            <h2 class="text-lg font-semibold mb-2">Editar Información del Veterinario</h2>
            <form id="editForm">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="edit-rut" class="block text-gray-600 text-sm">RUT</label>
                        <input type="text" id="edit-rut" name="rut" placeholder="12.345.678-9" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                        <small id="rutError" class="text-xs text-red-500 hidden">Formato incorrecto. Ej:
                            12.345.678-9</small>
                    </div>
                    <div>
                        <label for="edit-nombre-doctor" class="block text-gray-600 text-sm">Nombre</label>
                        <input type="text" id="edit-nombre-doctor" name="nombre-doctor" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                    <div>
                        <label for="edit-apellido" class="block text-gray-600 text-sm">Apellido</label>
                        <input type="text" id="edit-apellido" name="apellido" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                    <div>
                        <label for="edit-especialidad" class="block text-gray-600 text-sm">Especialidad</label>
                        <input type="text" id="edit-especialidad" name="especialidad" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                    <div>
                        <label for="edit-domicilio" class="block text-gray-600 text-sm">Domicilio</label>
                        <input type="text" id="edit-domicilio" name="domicilio" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                    <div>
                        <label for="edit-telefono-dom" class="block text-gray-600 text-sm">Teléfono</label>
                        <input type="text" id="edit-telefono-dom" name="telefono-dom" placeholder="+569-" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                        <small id="telefonoError" class="text-xs text-red-500 hidden">Debe comenzar con +569- y tener
                            exactamente 8 dígitos después del prefijo.</small>
                    </div>
                    <div>
                        <label for="edit-correo" class="block text-gray-600 text-sm">Correo Electrónico</label>
                        <input type="email" id="edit-correo" name="correo" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                    <div>
                        <label for="edit-fecha-nacimiento" class="block text-gray-600 text-sm">Fecha de
                            Nacimiento</label>
                        <input type="date" id="edit-fecha-nacimiento" name="fecha-nacimiento" required
                            class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                    </div>
                </div>
                <div class="mt-4 flex justify-end">
                    <button type="button" id="closeModalBtn"
                        class="bg-red-500 text-white py-1 px-2 rounded text-sm mr-2">Cancelar</button>
                    <button type="submit" style="background-color: #18beaa; color: white;"
                        class="py-1 px-2 rounded text-sm">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Formulario del Doctor -->
    <div class="container mx-auto flex items-start justify-center pt-10" id="doctor-info">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <h2 class="text-2xl font-bold">Información del Veterinario</h2>
            <div class="card bg-gray-100 p-4 rounded-md shadow">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="md:col-span-2">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="rut" class="block text-gray-600 text-sm">Rut:</label>
                                <input type="text" id="rut" name="rut" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm" value="Rut">
                            </div>
                            <div>
                                <label for="nombre-doctor" class="block text-gray-600 text-sm">Nombre:</label>
                                <input type="text" id="nombre-doctor" name="nombre-doctor" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="Nombre">
                            </div>
                            <div>
                                <label for="apellido" class="block text-gray-600 text-sm">Apellido:</label>
                                <input type="text" id="apellido" name="apellido" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="Apellido">
                            </div>
                            <div>
                                <label for="especialidad" class="block text-gray-600 text-sm">Especialidad:</label>
                                <input type="text" id="especialidad" name="especialidad" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="Especialidad">
                            </div>
                            <div>
                                <label for="domicilio" class="block text-gray-600 text-sm">Domicilio:</label>
                                <input type="text" id="domicilio" name="domicilio" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="Dirección">
                            </div>
                            <div>
                                <label for="telefono-dom" class="block text-gray-600 text-sm">Teléfono:</label>
                                <input type="text" id="telefono-dom" name="telefono-dom" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="123456789">
                            </div>
                            <div>
                                <label for="correo" class="block text-gray-600 text-sm">Correo Electrónico:</label>
                                <input type="email" id="correo" name="correo" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                    value="correo@ejemplo.com">
                            </div>
                            <div>
                                <label for="fecha-nacimiento" class="block text-gray-600 text-sm">Fecha de
                                    Nacimiento:</label>
                                <input type="date" id="fecha-nacimiento" name="fecha-nacimiento" disabled
                                    class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm">
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center items-center">
                        <div class="flex flex-col items-center">
                            <label class="block text-gray-600 text-sm">Foto de perfil:</label>
                            <div class="w-48 h-48 border rounded-md overflow-hidden mb-2">
                                <img id="profile-picture" src="https://games-b26f.kxcdn.com/wp-content/uploads/2024/04/james-1024x1024.jpg" alt="Foto del Doctor"
                                    class="w-full h-full object-cover">
                            </div>
                            <input type="file" id="upload-photo" class="hidden">
                            <label for="upload-photo" style="background-color: #18beaa; color: white;"
                                class="py-1 px-2 rounded cursor-pointer text-sm">Cambiar Foto</label>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <button type="button" id="editBtn" style="background-color: #18beaa; color: white;"
                        class="py-1 px-2 rounded text-sm">Editar</button>
                </div>

                <hr class="my-4 border-gray-300 flex items-center mt-2">


                <div class="bg-white p-4 rounded-lg shadow flex items-center mt-2 w-full">
                    <div class="mt-4 flex flex-col gap-4 w-full">
                        <h2 class="font-bold text-lg">Recordatorios</h2> <!-- Encabezado de Recordatorios aquí -->
                        <div class="bg-gray-100 p-2 rounded-md shadow">
                            <h3 class="font-semibold text-sm">Atenciones Pasadas</h3>
                            <table class="min-w-full mt-2 border border-gray-300">
                                <thead>
                                    <tr>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Fecha</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Detalle</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Mascota</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Dueño</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/01/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 1: Detalle de atención
                                            pasada</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 1</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 1</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/02/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 2: Detalle de atención
                                            pasada</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 2</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 2</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/03/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 3: Detalle de atención
                                            pasada</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 3</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 3</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="bg-gray-100 p-2 rounded-md shadow">
                            <h3 class="font-semibold text-sm">Atenciones Futuras</h3>
                            <table class="min-w-full mt-2 border border-gray-300">
                                <thead>
                                    <tr>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Fecha</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Detalle</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Mascota</th>
                                        <th class="border border-gray-300 p-1 text-sm text-left">Dueño</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/04/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 1: Detalle de
                                            atención futura</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 1</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 1</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/05/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 2: Detalle de
                                            atención futura</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 2</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 2</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-1 text-sm">01/06/2024</td>
                                        <td class="border border-gray-300 p-1 text-sm">Atención 3: Detalle de
                                            atención futura</td>
                                        <td class="border border-gray-300 p-1 text-sm">Mascota 3</td>
                                        <td class="border border-gray-300 p-1 text-sm">Dueño 3</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

        </section>
    </div>
    <!-- Datos del Doctor -->


    <!-- Fichas Clínicas -->
    <div class="container mx-auto flex items-start justify-center pt-10" id="clinical-records">
        <section class="p-4 w-full max-w-3xl bg-white shadow-md rounded-lg">
            <h2 class="text-xl font-semibold text-center">Fichas Clínicas</h2>

            <!-- Formulario de búsqueda por RUT y selección de mascota -->
            <form class="flex items-center mt-2" onsubmit="return false;">
                <div class="relative w-1/4 mr-2">
                    <label for="rut-paciente-nuevo" class="block text-gray-700 text-xs">Buscar por RUT:</label>
                    <input type="text" id="rut-paciente-nuevo" name="rut-paciente" required maxlength="12"
                        placeholder="12.345.678-9"
                        class="mt-1 block w-full border border-gray-300 rounded-md text-xs py-1 px-2 pr-10"
                        onblur="formatRUT(this)">
                </div>
                <button type="button" onclick="searchPetByRUT()"
                    class="mt-4 p-2 text-white rounded-md flex items-center justify-center"
                    style="background-color: #69d9cd; hover: background-color: #18beaa;">
                    <i class="fas fa-search" style="font-size: 14px;"></i>
                </button>



                <!-- Select para elegir mascota -->
                <div class="relative w-1/4 ml-6">
                    <label for="pet-select" class="block text-gray-700 text-xs">Seleccionar Mascota:</label>
                    <select id="pet-select"
                        class="mt-1 block w-full border border-gray-300 rounded-md text-xs py-1 px-2">
                        <!-- Las opciones se llenarán dinámicamente -->
                    </select>
                </div>
            </form>

            <!-- Contenido del paciente después de la búsqueda -->
            <div id="pet-data" class="flex justify-center mt-4 hidden">
                <div class="w-full max-w-md">
                    <h2 class="text-lg font-bold text-center text-green-600 mb-4">Datos del Dueño</h2>
                    <div class="border border-blue-300 p-6 rounded-lg shadow-lg bg-white">
                        <p class="text-gray-700 text-sm mb-2">
                            <strong>Nombre del Dueño:</strong> <span id="owner-name" class="text-gray-600">Nombre del
                                Dueño</span>
                        </p>
                        <p class="text-gray-700 text-sm mb-2">
                            <strong>Dirección del Dueño:</strong> <span id="owner-address"
                                class="text-gray-600">Dirección del Dueño</span>
                        </p>
                        <p class="text-gray-700 text-sm mb-2">
                            <strong>Teléfono del Dueño:</strong> <span id="owner-phone" class="text-gray-600">Teléfono
                                del Dueño</span>
                        </p>
                        <p class="text-gray-700 text-sm mb-4">
                            <strong>Correo Electrónico del Dueño:</strong> <span id="owner-email"
                                class="text-gray-600">Correo Electrónico del Dueño</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Sistema de Pestañas -->
            <div class="border-b border-gray-300 mt-4">
                <ul class="flex">
                    <li class="-mb-px mr-1">
                        <a id="tab1-btn" href="#tab1"
                            class="bg-white inline-block py-2 px-4 text-green-500 font-semibold border-l border-t border-r border-gray-300 rounded-t hover:bg-gray-100">
                            Datos del Paciente
                        </a>
                    </li>
                    <li class="mr-1">
                        <a id="tab2-btn" href="#tab2"
                            class="bg-white inline-block py-2 px-4 text-gray-500 font-semibold hover:bg-gray-100">
                            Historia Clínica
                        </a>
                    </li>
                    <li class="mr-1">
                        <a id="tab3-btn" href="#tab3"
                            class="bg-white inline-block py-2 px-4 text-gray-500 font-semibold hover:bg-gray-100">
                            Vacunas
                        </a>
                    </li>
                    <li class="mr-1">
                        <a id="tab4-btn" href="#tab4"
                            class="bg-white inline-block py-2 px-4 text-gray-500 font-semibold hover:bg-gray-100">
                            Desparasitaciones
                        </a>
                    </li>
                    <li class="mr-1">
                        <a id="tab5-btn" href="#tab5"
                            class="bg-white inline-block py-2 px-4 text-gray-500 font-semibold hover:bg-gray-100">
                            Ficha
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Contenido de las pestañas -->
            <!-- Contenido Datos del Paciente -->
            <div id="tab1" class="p-6">
                <h2 class="text-2xl font-bold">Datos del Paciente</h2>
                <div class="card bg-gray-100 p-4 rounded-md shadow">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="md:col-span-2">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="pet-name" class="block text-gray-600 text-sm">Nombre de la
                                        Mascota:</label>
                                    <input type="text" id="pet-name" name="pet-name" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Nombre de la Mascota">
                                </div>
                                <div>
                                    <label for="birth-date" class="block text-gray-600 text-sm">Fecha de
                                        Nacimiento:</label>
                                    <input type="text" id="birth-date" name="birth-date" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Fecha de Nacimiento">
                                </div>
                                <div>
                                    <label for="age" class="block text-gray-600 text-sm">Edad:</label>
                                    <input type="text" id="age" name="age" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Edad">
                                </div>
                                <div>
                                    <label for="gender" class="block text-gray-600 text-sm">Sexo:</label>
                                    <input type="text" id="gender" name="gender" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Sexo">
                                </div>
                                <div>
                                    <label for="weight" class="block text-gray-600 text-sm">Peso:</label>
                                    <input type="text" id="weight" name="weight" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Peso">
                                </div>
                                <div>
                                    <label for="microchip-number" class="block text-gray-600 text-sm">N°
                                        Microchip:</label>
                                    <input type="text" id="microchip-number" name="microchip-number" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Número de Microchip">
                                </div>
                                <div>
                                    <label for="species" class="block text-gray-600 text-sm">Especie:</label>
                                    <input type="text" id="species" name="species" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Especie">
                                </div>
                                <div>
                                    <label for="breed" class="block text-gray-600 text-sm">Raza:</label>
                                    <input type="text" id="breed" name="breed" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Raza">
                                </div>
                                <div>
                                    <label for="size" class="block text-gray-600 text-sm">Tamaño:</label>
                                    <input type="text" id="size" name="size" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Tamaño">
                                </div>
                                <div>
                                    <label for="coat-color" class="block text-gray-600 text-sm">Color de Pelaje:</label>
                                    <input type="text" id="coat-color" name="coat-color" disabled
                                        class="mt-1 block w-full border border-gray-300 rounded-md p-1 text-sm"
                                        value="Color de Pelaje">
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-center items-center">
                            <div class="flex flex-col items-center">
                                <label class="block text-gray-600 text-sm">Foto de perfil:</label>
                                <div class="w-48 h-48 border rounded-md overflow-hidden mb-2">
                                    <img id="profile-picture" src="https://media.tenor.com/zqSA5TmyIYUAAAAM/sus-cat-2-suspicious-cat.gif" alt="Foto de la Mascota"
                                        class="w-full h-full object-cover">
                                </div>
                                <input type="file" id="upload-photo" class="hidden">
                                <label for="upload-photo" style="background-color: #18beaa; color: white;"
                                    class="py-1 px-2 rounded cursor-pointer text-sm">Cambiar Foto</label>
                                <!-- Aquí se mostrará el estado -->
                                <div id="status-info" class="mt-4 text-gray-600 text-sm"></div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="card bg-gray-100 p-4 rounded-md shadow">
                        <div class="flex items-center">
                            <input type="checkbox" id="reproducer" class="mr-2">
                            <label for="reproducer" class="text-gray-600 text-sm">Reproductor</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="treatment" class="mr-2">
                            <label for="treatment" class="text-gray-600 text-sm">En Tratamiento anticonceptivo</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="sterilized" class="mr-2">
                            <label for="sterilized" class="text-gray-600 text-sm">Esterilizado/Castrado</label>
                        </div>
                    </div>

                    <div class="card bg-gray-100 p-4 rounded-md shadow">
                        <div class="flex items-center">
                            <input type="checkbox" id="deceased" class="mr-2">
                            <label for="deceased" class="text-gray-600 text-sm">Fallecimiento</label>
                        </div>
                        <div class="mt-2">
                            <label for="cause-of-death" class="block text-gray-600 text-sm">Causa del deceso:</label>
                            <input type="text" id="cause-of-death" name="cause-of-death"
                                class="border border-gray-300 rounded-md py-1 px-2 w-full">
                        </div>
                        <button id="save-status-btn"
                            style="background-color: #18beaa; color: white;"
                            class="mt-2 py-1 px-2 rounded cursor-pointer text-sm">
                            Guardar Estado
                        </button>
                        <p id="save-message" class="text-green-500 mt-2"></p>
                    </div>
                </div>
            </div>
            <!-- Fin Contenido Datos del Paciente -->

            <!-- Contenido Historia Clínica -->
            <div id="tab2" class="hidden p-6">
                <h2 class="text-2xl font-bold">Historia Clínica</h2>
                <!-- Tabla para el historial médico -->
                <div class="overflow-x-auto mt-4">
                    <table class="min-w-full border border-gray-300 rounded-lg text-xs">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-300 p-1 text-left rounded-tl-lg rounded-tr-lg">Fecha</th>
                                <th class="border border-gray-300 p-1 text-left">Motivo de Consulta</th>
                                <th class="border border-gray-300 p-1 text-left">Diagnóstico</th>
                                <th class="border border-gray-300 p-1 text-left">Tratamiento</th>
                                <th class="border border-gray-300 p-1 text-left rounded-bl-lg rounded-br-lg">Detalles de
                                    la Cita</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="citaFecha1" class="border border-gray-300 p-1 rounded-b-lg">01/01/2024</td>
                                <td id="citaMotivo1" class="border border-gray-300 p-1">Chequeo general</td>
                                <td id="citaDiagnostico1" class="border border-gray-300 p-1">Salud óptima</td>
                                <td id="citaTratamiento1" class="border border-gray-300 p-1">Vacuna aplicada</td>
                                <td class="border border-gray-300 p-1"><button onclick="openModal('modal1')"
                                        class="text-green-500 hover:underline">Ver detalles</button></td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 p-1 rounded-b-lg">15/02/2024</td>
                                <td class="border border-gray-300 p-1">Tos persistente</td>
                                <td class="border border-gray-300 p-1">Infección respiratoria</td>
                                <td class="border border-gray-300 p-1">Antibióticos recetados</td>
                                <td class="border border-gray-300 p-1"><button onclick="openModal('modal2')"
                                        class="text-green-500 hover:underline">Ver detalles</button></td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 p-1 rounded-b-lg">10/03/2024</td>
                                <td class="border border-gray-300 p-1">Control de parásitos</td>
                                <td class="border border-gray-300 p-1">Parásitos detectados</td>
                                <td class="border border-gray-300 p-1">Desparasitante administrado</td>
                                <td class="border border-gray-300 p-1"><button onclick="openModal('modal3')"
                                        class="text-green-500 hover:underline">Ver detalles</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
                
            <!-- Fin Contenido Historia Clínica -->
            
            <!-- Modales para detalles de la cita -->
            <div id="modal1" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Cita</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editFecha1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-01-01">
                        </label>
                        <label class="block">
                            <strong>Motivo de Consulta:</strong>
                            <input type="text" id="editMotivo1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Chequeo general">
                        </label>
                        <label class="block">
                            <strong>Diagnóstico:</strong>
                            <input type="text" id="editDiagnostico1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Salud óptima">
                        </label>
                        <label class="block">
                            <strong>Tratamiento:</strong>
                            <input type="text" id="editTratamiento1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Vacuna aplicada">
                        </label>
                    </div>
                    <button onclick="guardarCambios('1')" 
                    class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200"
                    style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modal1')" 
                    class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200"
                    style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>
            <!-- Fin Contenido Historia Clínica -->


            <!-- Contenido Vacunas -->
            <div id="tab3" class="hidden p-6">
                <h2 class="text-2xl font-bold">Vacunas</h2>

                <!-- Tabla para el historial de vacunas ajustada para ser más pequeña -->
                <div class="overflow-x-auto mt-4">
                    <table class="min-w-full border border-gray-300 rounded-lg text-xs">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-300 px-2 py-1 text-left rounded-tl-lg rounded-tr-lg">Fecha</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Vacuna</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Dosis</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Veterinario</th>
                                <th class="border border-gray-300 px-2 py-1 text-left rounded-bl-lg rounded-br-lg">Detalles</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="vacunaFecha1" class="border border-gray-300 px-2 py-1">05/01/2024</td>
                                <td id="vacunaNombre1" class="border border-gray-300 px-2 py-1">Rabia</td>
                                <td id="vacunaDosis1" class="border border-gray-300 px-2 py-1">1ª dosis</td>
                                <td id="vacunaVeterinario1" class="border border-gray-300 px-2 py-1">Dr. Pérez</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalVacuna1')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                            <tr>
                                <td id="vacunaFecha2" class="border border-gray-300 px-2 py-1">20/02/2024</td>
                                <td id="vacunaNombre2" class="border border-gray-300 px-2 py-1">Moquillo</td>
                                <td id="vacunaDosis2" class="border border-gray-300 px-2 py-1">Refuerzo</td>
                                <td id="vacunaVeterinario2" class="border border-gray-300 px-2 py-1">Dra. González</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalVacuna2')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                            <tr>
                                <td id="vacunaFecha3" class="border border-gray-300 px-2 py-1">15/03/2024</td>
                                <td id="vacunaNombre3" class="border border-gray-300 px-2 py-1">Parvovirus</td>
                                <td id="vacunaDosis3" class="border border-gray-300 px-2 py-1">2ª dosis</td>
                                <td id="vacunaVeterinario3" class="border border-gray-300 px-2 py-1">Dr. López</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalVacuna3')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Modales para detalles de las vacunas -->
            <div id="modalVacuna1" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Vacuna</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editVacunaFecha1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-01-05">
                        </label>
                        <label class="block">
                            <strong>Vacuna:</strong>
                            <input type="text" id="editVacunaNombre1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Rabia">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editVacunaDosis1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="1ª dosis">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editVacunaVeterinario1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dr. Pérez">
                        </label>
                    </div>
                    <button onclick="guardarCambiosVacuna('1')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalVacuna1')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>

            <div id="modalVacuna2" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Vacuna</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editVacunaFecha2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-02-20">
                        </label>
                        <label class="block">
                            <strong>Vacuna:</strong>
                            <input type="text" id="editVacunaNombre2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Moquillo">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editVacunaDosis2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Refuerzo">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editVacunaVeterinario2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dra. González">
                        </label>
                    </div>
                    <button onclick="guardarCambiosVacuna('2')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalVacuna2')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>

            <div id="modalVacuna3" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Vacuna</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editVacunaFecha3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-03-15">
                        </label>
                        <label class="block">
                            <strong>Vacuna:</strong>
                            <input type="text" id="editVacunaNombre3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Parvovirus">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editVacunaDosis3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2ª dosis">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editVacunaVeterinario3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dr. López">
                        </label>
                    </div>
                    <button onclick="guardarCambiosVacuna('3')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalVacuna3')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>
            <!--Fin Contenido Vacunas -->


            <!-- Contenido Desparasitaciones -->
            <div id="tab4" class="hidden p-6">
                <h2 class="text-2xl font-bold">Desparasitaciones</h2>

                <!-- Tabla para el historial de desparasitaciones ajustada para ser más pequeña -->
                <div class="overflow-x-auto mt-4">
                    <table class="min-w-full border border-gray-300 rounded-lg text-xs">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-300 px-2 py-1 text-left rounded-tl-lg rounded-tr-lg">Fecha</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Producto</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Dosis</th>
                                <th class="border border-gray-300 px-2 py-1 text-left">Veterinario</th>
                                <th class="border border-gray-300 px-2 py-1 text-left rounded-bl-lg rounded-br-lg">Detalles</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="desparasitacionFecha1" class="border border-gray-300 px-2 py-1">10/01/2024</td>
                                <td id="desparasitacionProducto1" class="border border-gray-300 px-2 py-1">Pyrantel</td>
                                <td id="desparasitacionDosis1" class="border border-gray-300 px-2 py-1">5 ml</td>
                                <td id="desparasitacionVeterinario1" class="border border-gray-300 px-2 py-1">Dr. Martínez</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalDesparasitacion1')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                            <tr>
                                <td id="desparasitacionFecha2" class="border border-gray-300 px-2 py-1">15/02/2024</td>
                                <td id="desparasitacionProducto2" class="border border-gray-300 px-2 py-1">Fenbendazol</td>
                                <td id="desparasitacionDosis2" class="border border-gray-300 px-2 py-1">10 ml</td>
                                <td id="desparasitacionVeterinario2" class="border border-gray-300 px-2 py-1">Dra. Silva</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalDesparasitacion2')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                            <tr>
                                <td id="desparasitacionFecha3" class="border border-gray-300 px-2 py-1">20/03/2024</td>
                                <td id="desparasitacionProducto3" class="border border-gray-300 px-2 py-1">Praziquantel</td>
                                <td id="desparasitacionDosis3" class="border border-gray-300 px-2 py-1">2 tabletas</td>
                                <td id="desparasitacionVeterinario3" class="border border-gray-300 px-2 py-1">Dr. Torres</td>
                                <td class="border border-gray-300 px-2 py-1">
                                    <button onclick="openModal('modalDesparasitacion3')" class="text-green-500 hover:underline">Ver detalles</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <!-- Modales para detalles de las desparasitaciones -->
            <div id="modalDesparasitacion1" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Desparasitacion</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editDesparasitacionFecha1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-01-10">
                        </label>
                        <label class="block">
                            <strong>Producto:</strong>
                            <input type="text" id="editDesparasitacionProducto1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Pyrantel">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editDesparasitacionDosis1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="5 ml">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editDesparasitacionVeterinario1" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dr. Martínez">
                        </label>
                    </div>
                    <button onclick="guardarCambiosDesparasitacion('1')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalDesparasitacion1')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>

            <div id="modalDesparasitacion2" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Desparasitacion</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editDesparasitacionFecha2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-02-15">
                        </label>
                        <label class="block">
                            <strong>Producto:</strong>
                            <input type="text" id="editDesparasitacionProducto2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Fenbendazol">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editDesparasitacionDosis2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="10 ml">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editDesparasitacionVeterinario2" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dra. Silva">
                        </label>
                    </div>
                    <button onclick="guardarCambiosDesparasitacion('2')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalDesparasitacion2')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>

            <div id="modalDesparasitacion3" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full transition-all duration-300 transform scale-95">
                    <h2 class="text-xl font-semibold mb-4">Detalles de la Desparasitacion</h2>
                    <div class="space-y-4 text-gray-600">
                        <label class="block">
                            <strong>Fecha:</strong>
                            <input type="date" id="editDesparasitacionFecha3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2024-03-20">
                        </label>
                        <label class="block">
                            <strong>Producto:</strong>
                            <input type="text" id="editDesparasitacionProducto3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Praziquantel">
                        </label>
                        <label class="block">
                            <strong>Dosis:</strong>
                            <input type="text" id="editDesparasitacionDosis3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="2 tabletas">
                        </label>
                        <label class="block">
                            <strong>Veterinario:</strong>
                            <input type="text" id="editDesparasitacionVeterinario3" class="block w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-300" value="Dr. Torres">
                        </label>
                    </div>
                    <button onclick="guardarCambiosDesparasitacion('3')" class="mt-4 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Guardar Cambios
                    </button>
                    <button onclick="closeModal('modalDesparasitacion3')" class="mt-2 w-full text-white font-bold py-2 px-4 rounded-full shadow-md transition-all duration-200" style="background-color: #69d9cd;">
                        Cerrar
                    </button>
                </div>
            </div>


            <script>
                function openModal(modalId) {
                    const modal = document.getElementById(modalId);
                    modal.classList.remove('hidden');
                    modal.querySelector('.transform').classList.add('scale-100');
                    modal.querySelector('.transform').classList.remove('scale-95');
                }

                function closeModal(modalId) {
                    const modal = document.getElementById(modalId);
                    modal.querySelector('.transform').classList.add('scale-95');
                    modal.querySelector('.transform').classList.remove('scale-100');
                    setTimeout(() => {
                        modal.classList.add('hidden');
                    }, 300); // Retraso para que la animación ocurra antes de ocultar
                }
            </script>
            <!-- Fin Contenido Desparasitaciones -->

            <div id="tab5" class="hidden p-6">
                <h2 class="text-2xl font-bold">Ficha</h2>
                
                <!-- Card para Datos del propietario -->
                <section class="mt-6">
                    <h3 class="text-lg font-semibold">Datos del propietario</h3>
                    <div class="bg-gray-100 p-4 rounded-lg shadow-md">
                        <form id="ownerForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <label class="block mt-2">
                                Nombre:
                                <input type="text" id="ownerName" class="border border-gray-300 rounded-md w-full" value="Juan" readonly>
                            </label>
                            <label class="block mt-2">
                                Apellido:
                                <input type="text" id="ownerLastName" class="border border-gray-300 rounded-md w-full" value="Pérez" readonly>
                            </label>
                            <label class="block mt-2">
                                RUT:
                                <input type="text" id="ownerRUT" class="border border-gray-300 rounded-md w-full" value="12.345.678-9" readonly>
                            </label>
                            <label class="block mt-2">
                                Cédula de Identidad:
                                <input type="text" id="ownerID" class="border border-gray-300 rounded-md w-full" value="98765432" readonly>
                            </label>
                            <label class="block mt-2">
                                Dirección de residencia:
                                <input type="text" id="ownerAddress" class="border border-gray-300 rounded-md w-full" value="Av. Libertador Bernardo O'Higgins 123" readonly>
                            </label>
                            <label class="block mt-2">
                                Teléfono:
                                <input type="text" id="ownerPhone" class="border border-gray-300 rounded-md w-full" value="987654321" readonly>
                            </label>
                            <label class="block mt-2">
                                Correo:
                                <input type="email" id="ownerEmail" class="border border-gray-300 rounded-md w-full" value="juan.perez@example.com" readonly>
                            </label>
                        </form>
                    </div>
                </section>

                <!-- Card para Reseña -->
                <section class="mt-6">
                    <h3 class="text-lg font-semibold">Reseña</h3>
                    <div class="bg-gray-100 p-4 rounded-lg shadow-md">
                        <form id="patientForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <label class="block mt-2">
                                Nombre del paciente:
                                <input type="text" id="patientName" class="border border-gray-300 rounded-md w-full" value="Firulais" readonly>
                            </label>
                            <label class="block mt-2">
                                Especie:
                                <input type="text" id="patientSpecies" class="border border-gray-300 rounded-md w-full" value="Perro" readonly>
                            </label>
                            <label class="block mt-2">
                                Raza:
                                <input type="text" id="patientBreed" class="border border-gray-300 rounded-md w-full" value="Labrador" readonly>
                            </label>
                            <label class="block mt-2">
                                Sexo:
                                <input type="text" id="patientSex" class="border border-gray-300 rounded-md w-full" value="Macho" readonly>
                            </label>
                            <label class="block mt-2">
                                Fecha de nacimiento:
                                <input type="date" id="patientBirthDate" class="border border-gray-300 rounded-md w-full" value="2020-01-01" readonly>
                            </label>
                            <label class="block mt-2">
                                Peso (en gramos):
                                <input type="number" id="patientWeight" class="border border-gray-300 rounded-md w-full" value="30000" readonly>
                            </label>
                            <label class="block mt-2">
                                Color:
                                <input type="text" id="patientColor" class="border border-gray-300 rounded-md w-full" value="Amarillo" readonly>
                            </label>
                            <label class="block mt-2">
                                Tipo de Pelaje:
                                <input type="text" id="patientFurType" class="border border-gray-300 rounded-md w-full" value="Corto" readonly>
                            </label>
                            <label class="block mt-2">
                                Otras identificaciones:
                                <input type="text" id="otherIdentifiers" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Fin Zootécnico:
                                <input type="text" id="zootechnicalPurpose" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Origen/Procedencia:
                                <input type="text" id="origin" class="border border-gray-300 rounded-md w-full">
                            </label>
                        </form>
                    </div>
                </section>

                <!-- Card para Anamnesis -->
                <section class="mt-6">
                    <h3 class="text-lg font-semibold">Anamnesis</h3>
                    <div class="bg-gray-100 p-4 rounded-lg shadow-md">
                        <form id="anamnesisForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <label class="block mt-2">
                                Hora de inicio de la consulta:
                                <input type="time" id="consultationStartTime" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Dieta:
                                <input type="text" id="diet" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Enfermedades Previas:
                                <input type="text" id="previousDiseases" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                ¿Está esterilizado?:
                                <select id="isSterilized" class="border border-gray-300 rounded-md w-full">
                                    <option value="Sí">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </label>
                            <label class="block mt-2">
                                Número de partos:
                                <input type="text" id="litters" class="border border-gray-300 rounded-md w-full" placeholder="Indique '0' si no ha tenido">
                            </label>
                            <label class="block mt-2">
                                Cirugías Previas:
                                <input type="text" id="previousSurgeries" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Esquema vacunal:
                                <input type="text" id="vaccinationScheme" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Última desparasitación y producto:
                                <input type="text" id="lastDeworming" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Tratamientos recientes:
                                <input type="text" id="recentTreatments" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                ¿Viajes recientes?:
                                <input type="text" id="recentTravels" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                ¿Vive con otros animales?:
                                <select id="livesWithOtherAnimals" class="border border-gray-300 rounded-md w-full">
                                    <option value="Sí">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </label>
                            <label class="block mt-2">
                                ¿Cuáles?:
                                <input type="text" id="whichAnimals" class="border border-gray-300 rounded-md w-full">
                            </label>
                            <label class="block mt-2">
                                Comportamiento del animal:
                                <textarea id="animalBehavior" class="border border-gray-300 rounded-md w-full" rows="3"></textarea>
                            </label>
                            <label class="block mt-2">
                                Motivo de la consulta:
                                <textarea id="consultationReason" class="border border-gray-300 rounded-md w-full" rows="3"></textarea>
                            </label>
                            <label class="block mt-2">
                                Examen físico:
                                <textarea id="physicalExam" class="border border-gray-300 rounded-md w-full" rows="3"></textarea>
                            </label>
                            <label class="block mt-2">
                                Temperatura del animal (°C):
                                <input type="text" id="animalTemperature" class="border border-gray-300 rounded-md w-full" placeholder="Temperatura en grados Celsius">
                            </label>
                        </form>
                    </div>
                </section>


                <!-- Botón guardar -->
                <button id="saveButton" class="mt-4 p-2 bg-green-400 text-white rounded-md hover:bg-green-600 flex items-center justify-center">
                    Guardar ficha
                </button>

                <!-- Modal -->
                <div id="confirmationModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-50">
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-lg font-semibold">Confirmación</h3>
                        <p>¿Estás seguro de que deseas guardar la ficha?</p>
                        <div class="mt-4 flex justify-between">
                            <button id="confirmSave" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Confirmar</button>
                            <button id="cancelSave" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

<!-- Agenda -->
<div class="container mx-auto flex items-start justify-center pt-10" id="agenda">
    <section class="p-4 w-full max-w-5xl bg-white shadow-md rounded-lg">
        <h2 id="monthTitle" class="text-xl font-semibold text-center mb-4">Mi Agenda - Octubre 2024</h2> <!-- Mes actual -->

        <!-- Contenedor para los enlaces de navegación -->
        <div class="flex justify-end mb-2">
            <span id="prevMonth" class="cursor-pointer text-blue-500 underline text-sm mr-2 hidden">◀</span> <!-- Solo el ícono -->
            <span id="toggleView" class="cursor-pointer text-blue-500 underline text-xs mx-2">Cambiar a Vista Mensual</span> <!-- Tamaño de fuente más pequeño -->
            <span id="nextMonth" class="cursor-pointer text-blue-500 underline text-sm hidden">▶</span> <!-- Solo el ícono -->
        </div>

        <!-- Contenido de la agenda -->
        <div id="weeklyView" class="agenda-view">
            <!-- Días de la semana -->
            <div class="grid grid-cols-6 gap-2 text-center mb-4 mt-2">
                <div></div> <!-- Espacio vacío para las horas -->
                <div>Lunes 7</div>
                <div>Martes 8</div>
                <div>Miércoles 9</div>
                <div>Jueves 10</div>
                <div>Viernes 11</div>
            </div>

            <!-- Horas y Citas -->
            <div class="grid grid-cols-6 gap-2">
                <!-- Horas en la columna izquierda -->
                <div class="text-right pr-2">
                    <div class="py-1 border-t">08:30</div>
                    <div class="py-1 border-t">09:30</div>
                    <div class="py-1 border-t">10:30</div>
                    <div class="py-1 border-t">11:30</div>
                    <div class="py-1 border-t">12:30</div>
                    <div class="py-1 border-t">13:30</div>
                    <div class="py-1 border-t">14:30</div>
                    <div class="py-1 border-t">15:30</div>
                    <div class="py-1 border-t">16:30</div>
                    <div class="py-1 border-t">17:30</div>
                </div>

                <!-- Citas para cada día (tarjetas más pequeñas y compactas) -->
                <div class="border-l">
                    <!-- Tarjeta para una cita de 11:00 a 12:00 -->
                    <div class="border-t bg-yellow-100 text-yellow-700 rounded-md shadow-lg p-1" style="grid-row: 4 / span 2;">
                        <p class="text-xs font-bold">11:00 - 12:00</p>
                        <p class="text-sm font-semibold">COOKIE</p>
                        <p class="text-xs">Yorkshire Terrier</p>
                        <div class="flex items-center text-xs">
                            <span class="mr-1 text-gray-500"><i class="fas fa-user"></i></span>
                            <p>Fernanda Sanz</p>
                        </div>
                    </div>
                    <div class="py-1 border-t"></div>
                </div>

                <div class="border-l">
                    <!-- Tarjeta para una cita de 10:30 a 11:30 -->
                    <div class="border-t bg-green-100 text-green-700 rounded-md shadow-lg p-1" style="grid-row: 3 / span 2;">
                        <p class="text-xs font-bold">10:30 - 11:30</p>
                        <p class="text-sm font-semibold">MANDARINA</p>
                        <p class="text-xs">Gato</p>
                        <div class="flex items-center text-xs">
                            <span class="mr-1 text-gray-500"><i class="fas fa-user"></i></span>
                            <p>Mario Pérez</p>
                        </div>
                    </div>
                    <div class="py-1 border-t"></div>
                </div>
            </div>
        </div>

        <!-- Vista mensual (inicialmente oculta) -->
        <div id="monthlyView" class="agenda-view hidden">
            <div class="grid grid-cols-7 gap-2 text-center mb-4 mt-2">
                <div>Dom</div>
                <div>Lun</div>
                <div>Mar</div>
                <div>Mié</div>
                <div>Jue</div>
                <div>Vie</div>
                <div>Sáb</div>
            </div>
            <div class="grid grid-cols-7 gap-2" id="calendarDays"></div>
        </div>
    </section>
</div>
<!-- Fin Agenda -->

<script>
// JavaScript para cambiar entre vistas
const toggleButton = document.getElementById('toggleView');
const prevMonthButton = document.getElementById('prevMonth');
const nextMonthButton = document.getElementById('nextMonth');
const weeklyView = document.getElementById('weeklyView');
const monthlyView = document.getElementById('monthlyView');
const calendarDays = document.getElementById('calendarDays');
const monthTitle = document.getElementById('monthTitle');

let currentYear = 2024;
let currentMonth = 9; // Octubre (0-indexado)

// Datos de citas para mostrar en el calendario
const appointments = {
    7: [
        { time: '11:00 - 12:00', pet: 'COOKIE', color: 'bg-yellow-100' },
        { time: '13:00 - 14:00', pet: 'BELLA', color: 'bg-blue-100' }
    ],
    8: [
        { time: '10:30 - 11:30', pet: 'MANDARINA', color: 'bg-green-100' },
        { time: '15:00 - 16:00', pet: 'LUNA', color: 'bg-red-100' },
    ],
    9: [
        { time: '09:00 - 10:00', pet: 'MAX', color: 'bg-purple-100' },
    ],
    10: [
        { time: '14:00 - 15:00', pet: 'RUFUS', color: 'bg-orange-100' },
    ],
    // Agrega más citas aquí con la misma estructura
};

// Array de nombres de meses
const monthNames = [
    "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
    "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"
];

// Función para generar días del mes
function generateCalendar(year, month) {
    // Limpiar los días del calendario
    calendarDays.innerHTML = '';

    // Cambiar el título del mes
    monthTitle.textContent = `Mi Agenda - ${monthNames[month]} ${year}`;

    // Obtener el primer día del mes y el número de días
    const firstDay = new Date(year, month, 1);
    const totalDays = new Date(year, month + 1, 0).getDate();
    const startDay = firstDay.getDay(); // Día de la semana (0-6)

    // Agregar días vacíos antes del primer día del mes
    for (let i = 0; i < startDay; i++) {
        const emptyDiv = document.createElement('div');
        calendarDays.appendChild(emptyDiv);
    }

    // Agregar días del mes
    for (let day = 1; day <= totalDays; day++) {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'border p-1 relative'; // Hacer que el padding sea más pequeño

        // Tachado solo para sábados y domingos
        const dayOfWeek = (startDay + day - 1) % 7; // Obtener el índice del día de la semana
        if (dayOfWeek === 0 || dayOfWeek === 6) { // Domingo (0) y Sábado (6)
            dayDiv.classList.add('weekend');
        } else {
            // Solo crear tarjetas para días de semana (lunes a viernes)
            dayDiv.textContent = day;

            // Mostrar citas si hay
            if (appointments[day]) {
                const appointmentList = document.createElement('div');
                appointmentList.className = 'mt-1'; // Margen superior para la lista de citas

                appointments[day].forEach(appointment => {
                    const appointmentDiv = document.createElement('div');
                    appointmentDiv.className = `rounded-md shadow-md p-1 text-xs ${appointment.color} mb-1`;
                    appointmentDiv.textContent = `${appointment.time}: ${appointment.pet}`;
                    appointmentList.appendChild(appointmentDiv);
                });

                dayDiv.appendChild(appointmentList);
            }
        }

        calendarDays.appendChild(dayDiv);
    }
}

// Inicializar el calendario
generateCalendar(currentYear, currentMonth);

// Cambiar entre vista semanal y mensual
toggleButton.addEventListener('click', () => {
    if (weeklyView.classList.contains('hidden')) {
        weeklyView.classList.remove('hidden');
        monthlyView.classList.add('hidden');
        toggleButton.textContent = 'Cambiar a Vista Mensual';
        prevMonthButton.classList.add('hidden'); // Ocultar botones de navegación en vista semanal
        nextMonthButton.classList.add('hidden');
    } else {
        weeklyView.classList.add('hidden');
        monthlyView.classList.remove('hidden');
        toggleButton.textContent = 'Cambiar a Vista Semanal';
        prevMonthButton.classList.remove('hidden'); // Mostrar botones de navegación en vista mensual
        nextMonthButton.classList.remove('hidden');
    }
});

// Navegar entre meses
prevMonthButton.addEventListener('click', () => {
    currentMonth--;
    if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
    }
    generateCalendar(currentYear, currentMonth);
});

nextMonthButton.addEventListener('click', () => {
    currentMonth++;
    if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
    }
    generateCalendar(currentYear, currentMonth);
});
</script>

<style>
.weekend {
    text-decoration: line-through;
    color: gray;
}
</style>
<!--Fin Agenda -->



    <script src="{{ url_for('static', filename='js/profile_vet.js') }}"></script>

</body>

</html>